HYDE_PROMPT_TEMPLATE = """
你是一个知识渊博的专家，擅长根据问题生成详细、全面的答案。

请基于以下问题，生成一个假设性的、理想的、详细的答案。这个答案专门为RAG向量检索优化，应该：

**内容要求**：
1. 包含大量相关关键词、术语、同义词和近义词
2. 提供丰富的上下文信息、背景知识和相关概念
3. 涵盖问题的核心要点和延伸话题
4. 使用多种表达方式描述同一概念（提高检索匹配率）
5. 包含具体的细节、例子、数据和解释
6. 提及相关的工具、方法、框架和标准

**检索优化要求**：
- 使用同义词和相关术语丰富语义表达
- 包含问题可能涉及的各种表述方式
- 添加相关领域的专业词汇和概念
- 确保内容语义密度高，信息丰富

**重要说明**：这个答案是为了向量检索优化而生成的，重点是生成语义丰富、关键词密集、易于检索匹配的内容。

**用户问题**：{question}

**请生成一个详细的、检索友好的假设性答案**：
"""

# 针对技术问题的专用prompt
HYDE_TECHNICAL_PROMPT = """
作为一名资深技术专家，请针对以下技术问题生成一个详细的假设性答案，专门为RAG技术文档检索优化。

**技术内容要求**：
- 技术原理、实现方法、核心概念的详细解释
- 相关技术栈、开发工具、编程语言、框架和库
- 架构设计、系统组件、模块划分和接口定义
- 算法描述、数据结构、设计模式和编程范式
- 性能指标、优化策略、最佳实践和代码规范
- 常见问题、调试方法、错误处理和异常管理
- 版本差异、兼容性、迁移方案和升级路径

**关键词优化**：
- 包含技术术语的多种表达方式（英文、中文、缩写）
- 添加相关的技术概念、标准和规范名称
- 涵盖不同技术层面的词汇（底层、中间件、应用层）
- 提及相关的开源项目、商业产品和服务

**技术问题**：{question}

**详细技术解答（包含丰富技术关键词）**：
"""

# 针对商业/业务问题的专用prompt
HYDE_BUSINESS_PROMPT = """
作为一名经验丰富的商业顾问，请针对以下业务问题提供一个全面的假设性分析，专门为RAG商业文档检索优化。

**商业分析要求**：
- 市场环境、行业背景、竞争格局和商业生态
- 商业模式、盈利机制、价值链和收入来源
- 战略规划、市场策略、运营管理和执行方案
- 客户分析、用户需求、目标市场和客户细分
- 产品策略、服务设计、功能特性和差异化优势
- 财务分析、成本结构、投资回报和风险评估
- 组织架构、团队建设、人力资源和企业文化

**商业关键词优化**：
- 包含商业术语的多种表述（中英文对照）
- 添加行业专业词汇、商业概念和管理理论
- 涵盖不同商业层面的术语（战略、战术、执行）
- 提及相关的商业工具、分析框架和方法论
- 包含市场细分、客户类型和业务场景描述

**业务问题**：{question}

**商业分析（包含丰富商业关键词）**：
"""

# 针对学术/研究问题的专用prompt
HYDE_ACADEMIC_PROMPT = """
作为一名学术研究专家，请针对以下学术问题提供一个深入的假设性论述，专门为RAG学术文献检索优化。

**学术论述要求**：
- 理论基础、概念框架、学术背景和文献综述
- 研究方法、实验设计、数据收集和分析技术
- 研究发现、实证结果、统计分析和模型验证
- 学术争议、不同观点、理论辩论和学派差异
- 应用前景、实践意义、社会影响和政策建议
- 未来研究、发展趋势、技术路线和创新方向
- 跨学科联系、相关领域和知识交叉

**学术关键词优化**：
- 包含学术术语的精确表达和同义词变体
- 添加研究领域的专业词汇、理论名称和概念定义
- 涵盖不同研究层次的术语（理论、方法、应用）
- 提及相关的研究机构、知名学者和重要文献
- 包含研究方法、分析工具和评估指标

**学术问题**：{question}

**学术论述（包含丰富学术关键词）**：
"""

# 增强版通用prompt，包含更多引导
HYDE_ENHANCED_PROMPT = """
请扮演该领域的权威专家，针对以下问题生成一个详尽的假设性答案，专门为RAG多领域知识检索优化。

**全面分析要求**：
✓ 多角度深度分析：从理论、实践、技术、商业等多个维度解读
✓ 关键词密集覆盖：包含大量相关术语、概念、同义词和专业词汇
✓ 上下文丰富扩展：提供充分的背景信息、历史发展和现状分析
✓ 具体案例举例：包含真实案例、应用场景、成功实践和失败教训
✓ 工具方法介绍：涵盖相关工具、技术、框架、标准和最佳实践
✓ 挑战解决方案：分析潜在问题、风险因素和对应的解决策略
✓ 发展趋势预测：讨论未来发展方向、新兴技术和创新机会

**检索优化策略**：
- 使用多种表达方式描述核心概念（中英文、简称、全称）
- 包含相关领域的专业术语和行业词汇
- 添加同义词、近义词和相关概念的表述
- 涵盖不同抽象层次的描述（宏观、中观、微观）
- 确保内容语义丰富，便于向量检索匹配

**问题**：{question}

**开始全面解答（生成检索友好的详细内容）**：
基于对这个问题的深入分析，我将从多个维度提供全面的解答...
"""

# 问题分类prompt - 用于自动检测问题类型
QUESTION_CLASSIFICATION_PROMPT = """
你是一个专业的问题分类专家。请分析以下问题，并将其归类到最合适的类别中。

**分类标准**：

**技术类 (technical)**：
- 编程、算法、代码实现相关
- 系统架构、技术框架、工具使用
- 软件开发、数据库、API设计
- 性能优化、调试、技术原理
- 关键词：代码、编程、算法、架构、系统、开发、技术、实现、框架、性能

**商业类 (business)**：
- 市场营销、销售策略、商业模式
- 管理运营、客户服务、产品规划
- 财务分析、竞争策略、品牌建设
- 商业决策、盈利模式、市场分析
- 关键词：市场、销售、客户、产品、管理、策略、营销、竞争、品牌、盈利

**学术类 (academic)**：
- 科学研究、理论分析、实验设计
- 学术论文、文献综述、研究方法
- 数据统计、模型建立、假设验证
- 学科知识、理论探讨、前沿研究
- 关键词：研究、理论、实验、学术、科学、数据、模型、分析、论文、文献

**通用增强类 (enhanced)**：
- 综合性问题，涉及多个领域
- 复杂的概念解释和知识问答
- 需要深入分析的一般性问题
- 不明确属于以上三类的问题

**问题**：{question}

**分析要求**：
1. 仔细分析问题的核心内容和关键词
2. 考虑问题的应用场景和目标受众
3. 选择最符合的单一类别
4. 结果只需要返回分类结果(technical/business/academic/enhanced)，不需要任何解释

"""

# 基于检索context生成最终答案的通用prompt
FINAL_ANSWER_PROMPT = """
你是一个专业的知识问答专家。请基于检索到的相关文档，为用户问题提供准确、详细的答案。

**用户问题**：{question}

**检索到的相关文档**：
{context}

**回答要求**：
1. 严格基于提供的文档内容进行回答，不要添加文档中没有的信息
2. 在回答中明确引用具体的文档内容作为支撑
3. 组织清晰的答案结构，突出重点信息
4. 综合多个文档的信息，提供全面的答案
5. 如果文档信息不足或存在矛盾，请明确说明
6. 语言简洁明了，逻辑清晰

**请基于上述文档提供详细回答**：
"""


PROMPT_TYPES = {
    "technical": HYDE_TECHNICAL_PROMPT,
    "business": HYDE_BUSINESS_PROMPT,
    "academic": HYDE_ACADEMIC_PROMPT,
    "enhanced": HYDE_ENHANCED_PROMPT
}